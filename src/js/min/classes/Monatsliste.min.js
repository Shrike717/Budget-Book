export default class Monatsliste{constructor(a,b){this._jahr=a,this._monat=b,this._eintraege=[],this._bilanz=0,this._html=this._html_generieren()}monat(){return this._monat}jahr(){return this._jahr}bilanz(){return this._bilanz}html(){return this._html}eintrag_hinzufuegen(a){this._eintraege.push(a),this._aktualisieren()}_eintraege_sortieren(){this._eintraege.sort((a,b)=>a.datum()>b.datum()?-1:a.datum()<b.datum()?1:a.timestamp()>b.timestamp()?-1:1)}_bilanzieren(){let a=0;this._eintraege.forEach(b=>{"einnahme"===b.typ()?a+=b.betrag():a-=b.betrag(),this._bilanz=a})}_html_generieren(){let a=document.createElement("article");a.setAttribute("class","monatsliste");let b=document.createElement("h2"),c=document.createElement("span");c.setAttribute("class","monat-jahr"),c.textContent=`${new Date(this._jahr,this._monat-1).toLocaleString("de-De",{month:"long",year:"numeric"})}`,b.insertAdjacentElement("afterbegin",c);let d=document.createElement("span");0<=this._bilanz?d.setAttribute("class","monatsbilanz positiv"):d.setAttribute("class","monatsbilanz negativ"),d.textContent=`${(this._bilanz/100).toFixed(2).replace(/\./,",")} â‚¬`,b.insertAdjacentElement("beforeend",d),a.insertAdjacentElement("afterbegin",b);let e=document.createElement("ul");return this._eintraege.forEach(a=>{e.insertAdjacentElement("beforeend",a.html())}),a.insertAdjacentElement("beforeend",e),a}_aktualisieren(){this._eintraege_sortieren(),this._bilanzieren(),this._html=this._html_generieren()}}
